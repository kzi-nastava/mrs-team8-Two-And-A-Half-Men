import{b as E,d as V,h as F,j as q,n as H,o as j,p as G,q as R,r as J,u as N}from"./chunk-OXPWAMAC.js";import{$b as S,Eb as B,Fa as L,Fb as U,Ha as l,Hb as s,Ib as D,Jb as z,Mb as p,Nb as m,Ob as f,U as v,V as y,Va as w,W as I,X as O,Zb as A,_b as u,eb as M,fb as P,ib as k,jb as W,kb as c,lb as i,mb as o,nb as b,sc as T,ub as x,wb as C,yb as g}from"./chunk-GHGVHUHC.js";import{a as h,b as _}from"./chunk-TSRGIXR5.js";function ne(a,r){if(a&1){let n=x();i(0,"button",17),C("click",function(){v(n);let d=B(4);return y(d.click())}),I(),i(1,"svg",18),b(2,"path",19),o()(),O(),i(3,"input",20,0),C("change",function(d){v(n);let t=g(2);return y(t.onPhotoUpload(d))}),o()}}function te(a,r){if(a&1&&(i(0,"div",14)(1,"div",15),b(2,"img",16),M(3,ne,5,0),o()()),a&2){let n=g();l(2),c("src",n.getPhotoUrl(),L),l(),P(n.readonly()?-1:3)}}var K=class a{personalInfo=S.required();showPhotoUpload=u(!0);readonly=u(!1);photoChange=A();selectedFile=null;onPhotoUpload(r){let n=r.target;if(n.files&&n.files[0]){this.selectedFile=n.files[0];let e=new FileReader;e.onload=d=>{let t=d.target?.result;this.personalInfo.update(Y=>_(h({},Y),{imgSrc:t}))},e.readAsDataURL(n.files[0]),this.photoChange.emit(n.files[0])}}getPhotoUrl(){return this.personalInfo().imgSrc||"assets/default-profile.png"}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=w({type:a,selectors:[["app-personal-info-form"]],inputs:{personalInfo:[1,"personalInfo"],showPhotoUpload:[1,"showPhotoUpload"],readonly:[1,"readonly"]},outputs:{personalInfo:"personalInfoChange",photoChange:"photoChange"},decls:23,vars:11,consts:[["fileInput",""],[1,"form-grid"],[1,"form-column"],[1,"form-group"],["for","firstName"],["type","text","id","firstName","placeholder","Enter first name",1,"form-input",3,"ngModelChange","ngModel","readonly"],["for","lastName"],["type","text","id","lastName","placeholder","Enter last name",1,"form-input",3,"ngModelChange","ngModel","readonly"],["for","phone"],["type","tel","id","phone","placeholder","+381...",1,"form-input",3,"ngModelChange","ngModel","readonly"],["for","address"],["type","text","id","address","placeholder","Enter address",1,"form-input",3,"ngModelChange","ngModel","readonly"],["for","email"],["type","email","id","email","placeholder","email@example.com",1,"form-input",3,"ngModelChange","ngModel","readonly"],[1,"photo-column"],[1,"photo-container"],["alt","Profile Photo",3,"src"],["type","button",1,"upload-button",3,"click"],["width","24","height","24","viewBox","0 0 24 24","fill","none"],["d","M12 5v14m7-7H5","stroke","currentColor","stroke-width","2","stroke-linecap","round"],["type","file","accept","image/*",2,"display","none",3,"change"]],template:function(n,e){n&1&&(i(0,"div",1)(1,"div",2)(2,"div",3)(3,"label",4),s(4,"First name"),o(),i(5,"input",5),f("ngModelChange",function(t){return m(e.personalInfo().firstName,t)||(e.personalInfo().firstName=t),t}),o()(),i(6,"div",3)(7,"label",6),s(8,"Last name"),o(),i(9,"input",7),f("ngModelChange",function(t){return m(e.personalInfo().lastName,t)||(e.personalInfo().lastName=t),t}),o()(),i(10,"div",3)(11,"label",8),s(12,"Phone number"),o(),i(13,"input",9),f("ngModelChange",function(t){return m(e.personalInfo().phoneNumber,t)||(e.personalInfo().phoneNumber=t),t}),o()(),i(14,"div",3)(15,"label",10),s(16,"Address"),o(),i(17,"input",11),f("ngModelChange",function(t){return m(e.personalInfo().address,t)||(e.personalInfo().address=t),t}),o()(),i(18,"div",3)(19,"label",12),s(20,"Email"),o(),i(21,"input",13),f("ngModelChange",function(t){return m(e.personalInfo().email,t)||(e.personalInfo().email=t),t}),o()()(),M(22,te,4,2,"div",14),o()),n&2&&(l(5),p("ngModel",e.personalInfo().firstName),c("readonly",e.readonly()),l(4),p("ngModel",e.personalInfo().lastName),c("readonly",e.readonly()),l(4),p("ngModel",e.personalInfo().phoneNumber),c("readonly",e.readonly()),l(4),p("ngModel",e.personalInfo().address),c("readonly",e.readonly()),l(4),p("ngModel",e.personalInfo().email),c("readonly",e.readonly()),l(),P(e.showPhotoUpload()?22:-1))},dependencies:[T,N,E,V,F],styles:[".form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto;gap:2rem;margin-bottom:1.5rem}.form-column[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;color:#d1d5db;font-weight:500}.form-input[_ngcontent-%COMP%]{background:#1a5c3a;border:none;border-radius:8px;padding:.875rem 1rem;color:#fff;font-size:1rem;transition:all .3s ease}.form-input[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #d4af374d}.form-input[_ngcontent-%COMP%]::placeholder{color:#6b7280}.form-input[_ngcontent-%COMP%]:read-only{cursor:not-allowed;opacity:.7}.photo-column[_ngcontent-%COMP%]{display:flex;align-items:center}.photo-container[_ngcontent-%COMP%]{position:relative;width:300px;height:300px;border-radius:12px;overflow:hidden;background:#e5e7eb}.photo-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.upload-button[_ngcontent-%COMP%]{position:absolute;bottom:1rem;right:1rem;background:#d4af37;border:none;border-radius:50%;width:48px;height:48px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 12px #0000004d}.upload-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{color:#1a1a1a}.upload-button[_ngcontent-%COMP%]:hover{transform:scale(1.1);background:#e5c34a}.upload-button[_ngcontent-%COMP%]:active{transform:scale(.95)}@media(max-width:968px){.form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.photo-container[_ngcontent-%COMP%]{width:100%;max-width:300px;margin:0 auto}}@media(max-width:640px){.form-grid[_ngcontent-%COMP%]{gap:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.8125rem}.form-input[_ngcontent-%COMP%]{padding:.75rem .875rem;font-size:.9375rem}.photo-container[_ngcontent-%COMP%]{width:250px;height:250px}.upload-button[_ngcontent-%COMP%]{width:40px;height:40px}.upload-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px;height:20px}}"]})};var Q=(a,r)=>r.id;function oe(a,r){if(a&1&&(i(0,"option",5),s(1),o()),a&2){let n=r.$implicit;c("value",n.id),l(),z(" ",n.typeName," ")}}function ie(a,r){if(a&1&&(i(0,"span",6),s(1),o()),a&2){let n=g();l(),z(" ",n.getVehicleDescription()," ")}}function re(a,r){if(a&1){let n=x();i(0,"label",17)(1,"input",18),C("change",function(){let d=v(n).$implicit,t=g();return y(t.toggleService(d.name))}),o(),I(),i(2,"svg",19),b(3,"path",20),o(),O(),i(4,"div",21)(5,"span",22),s(6),o(),i(7,"span",23),s(8),o()()()}if(a&2){let n=r.$implicit,e=g();U("disabled",e.readonly()),l(),c("checked",e.isServiceEnabled(n.name))("disabled",e.readonly()),l(5),D(n.name),l(2),D(n.description)}}var X=class a{vehicleInfo=S.required();vehicleTypes=u.required();availableServices=u.required();readonly=u(!1);isServiceEnabled(r){return this.vehicleInfo().additionalServices.includes(r)}toggleService(r){if(this.readonly())return;let n=this.vehicleInfo().additionalServices;n.indexOf(r)>-1?this.vehicleInfo.update(d=>_(h({},d),{additionalServices:n.filter(t=>t!==r)})):this.vehicleInfo.update(d=>_(h({},d),{additionalServices:[...n,r]}))}getVehicleTypeId(){return this.vehicleTypes().find(n=>n.typeName===this.vehicleInfo().type)?.id}getVehicleDescription(){return this.vehicleTypes().find(r=>r.typeName===this.vehicleInfo().type)?.description??null}onVehicleTypeChange(r){let n=this.vehicleTypes().find(e=>e.id===parseInt(r));n&&this.vehicleInfo.update(e=>_(h({},e),{type:n.typeName}))}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=w({type:a,selectors:[["app-vehicle-info-form"]],inputs:{vehicleInfo:[1,"vehicleInfo"],vehicleTypes:[1,"vehicleTypes"],availableServices:[1,"availableServices"],readonly:[1,"readonly"]},outputs:{vehicleInfo:"vehicleInfoChange"},decls:27,vars:9,consts:[[1,"vehicle-grid"],[1,"vehicle-info"],[1,"form-group"],["for","vehicleType"],["id","vehicleType",1,"form-input",3,"ngModelChange","disabled","ngModel"],[3,"value"],[1,"form-hint"],["for","model"],["type","text","id","model","placeholder","e.g., Toyota Prius",1,"form-input",3,"ngModelChange","ngModel","disabled"],["for","plate"],["type","text","id","plate","placeholder","e.g., NS-123-AB",1,"form-input",3,"ngModelChange","ngModel","disabled"],["for","seats"],["type","number","id","seats","min","1","max","20","placeholder","4",1,"form-input",3,"ngModelChange","ngModel","disabled"],[1,"additional-services"],[1,"services-title"],[1,"services-list"],[1,"service-item",3,"disabled"],[1,"service-item"],["type","checkbox",3,"change","checked","disabled"],["width","20","height","20","viewBox","0 0 24 24","fill","none",1,"checkmark"],["d","M20 6L9 17l-5-5","stroke","currentColor","stroke-width","2","stroke-linecap","round"],[1,"service-content"],[1,"service-name"],[1,"service-description"]],template:function(n,e){n&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),s(4,"Type"),o(),i(5,"select",4),C("ngModelChange",function(t){return e.onVehicleTypeChange(t)}),k(6,oe,2,2,"option",5,Q),o(),M(8,ie,2,1,"span",6),o(),i(9,"div",2)(10,"label",7),s(11,"Model"),o(),i(12,"input",8),f("ngModelChange",function(t){return m(e.vehicleInfo().model,t)||(e.vehicleInfo().model=t),t}),o()(),i(13,"div",2)(14,"label",9),s(15,"License plate"),o(),i(16,"input",10),f("ngModelChange",function(t){return m(e.vehicleInfo().licensePlate,t)||(e.vehicleInfo().licensePlate=t),t}),o()(),i(17,"div",2)(18,"label",11),s(19,"Number of seats"),o(),i(20,"input",12),f("ngModelChange",function(t){return m(e.vehicleInfo().numberOfSeats,t)||(e.vehicleInfo().numberOfSeats=t),t}),o()()(),i(21,"div",13)(22,"h3",14),s(23,"Additional services"),o(),i(24,"div",15),k(25,re,9,6,"label",16,Q),o()()()),n&2&&(l(5),c("disabled",e.readonly())("ngModel",e.getVehicleTypeId()),l(),W(e.vehicleTypes()),l(2),P(e.getVehicleDescription()?8:-1),l(4),p("ngModel",e.vehicleInfo().model),c("disabled",e.readonly()),l(4),p("ngModel",e.vehicleInfo().licensePlate),c("disabled",e.readonly()),l(4),p("ngModel",e.vehicleInfo().numberOfSeats),c("disabled",e.readonly()),l(5),W(e.availableServices()))},dependencies:[T,N,j,G,E,q,H,V,J,R,F],styles:[".vehicle-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:3rem}.vehicle-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;color:#d1d5db;font-weight:500}.form-input[_ngcontent-%COMP%]{background:#1a5c3a;border:none;border-radius:8px;padding:.875rem 1rem;color:#fff;font-size:1rem;transition:all .3s ease}.form-input[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #d4af374d}.form-input[_ngcontent-%COMP%]::placeholder{color:#6b7280}select.form-input[_ngcontent-%COMP%]{cursor:pointer}.form-input[_ngcontent-%COMP%]:disabled{cursor:not-allowed;opacity:.7}select.form-input[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background:#1a5c3a;color:#fff}.form-hint[_ngcontent-%COMP%]{font-size:.8125rem;color:#9ca3af;font-style:italic;margin-top:.25rem}.additional-services[_ngcontent-%COMP%]{display:flex;flex-direction:column}.services-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;margin-bottom:1.5rem;color:#fff}.services-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.service-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.75rem;cursor:pointer;position:relative;padding-left:2rem;transition:opacity .3s ease}.service-item.disabled[_ngcontent-%COMP%]{cursor:not-allowed;opacity:.6}.service-item[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{position:absolute;left:0;top:.25rem;opacity:0;cursor:pointer}.service-item[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled{cursor:not-allowed}.service-item[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{color:#d4af37}.service-item[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]{position:absolute;left:0;top:.25rem;color:#6b7280;transition:color .3s ease;flex-shrink:0}.service-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.service-name[_ngcontent-%COMP%]{color:#d1d5db;font-size:.9375rem;font-weight:500}.service-description[_ngcontent-%COMP%]{color:#9ca3af;font-size:.8125rem;line-height:1.4}.service-item[_ngcontent-%COMP%]:hover:not(.disabled)   .service-name[_ngcontent-%COMP%]{color:#fff}@media(max-width:968px){.vehicle-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:2rem}}@media(max-width:640px){.vehicle-grid[_ngcontent-%COMP%]{gap:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.8125rem}.form-input[_ngcontent-%COMP%]{padding:.75rem .875rem;font-size:.9375rem}.services-title[_ngcontent-%COMP%]{font-size:1rem;margin-bottom:1rem}.service-item[_ngcontent-%COMP%]{padding-left:1.75rem;gap:.5rem}.service-name[_ngcontent-%COMP%]{font-size:.875rem}.service-description[_ngcontent-%COMP%]{font-size:.75rem}}"]})};export{K as a,X as b};
