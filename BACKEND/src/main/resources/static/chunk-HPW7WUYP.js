import{v as S}from"./chunk-OXPWAMAC.js";import{$b as y,Ab as b,Fa as v,Ha as a,Hb as r,Ib as g,Va as q,W as u,X as C,_b as f,eb as m,fb as d,ib as w,jb as I,ob as i,pb as o,qb as s,vb as _,yb as c,zb as P}from"./chunk-GHGVHUHC.js";var O=["*"],R=(n,t)=>t.label;function V(n,t){if(n&1&&(i(0,"div",9)(1,"span",10),r(2),o(),i(3,"span",11)(4,"span"),r(5),o(),u(),i(6,"svg",12),s(7,"path",13),o(),C(),i(8,"span"),r(9),o()()()),n&2){let e=t.$implicit;a(2),g(e.label),a(3),g(e.oldValue),a(4),g(e.newValue)}}function k(n,t){if(n&1&&s(0,"img",14),n&2){let e=c(3);_("src",e.imgChange.oldValue,v)}}function T(n,t){n&1&&(i(0,"span"),r(1,"No Image"),o())}function A(n,t){if(n&1&&s(0,"img",15),n&2){let e=c(3);_("src",e.imgChange.newValue,v)}}function D(n,t){n&1&&(i(0,"span"),r(1,"No Image"),o())}function z(n,t){if(n&1&&(i(0,"div",9)(1,"span",10),r(2,"Profile image: "),o(),i(3,"span",11),m(4,k,1,1,"img",14)(5,T,2,0,"span"),u(),i(6,"svg",12),s(7,"path",13),o(),m(8,A,1,1,"img",15)(9,D,2,0,"span"),o()()),n&2){let e=c(2);a(4),d(e.imgChange.oldValue?4:5),a(4),d(e.imgChange.newValue?8:9)}}function L(n,t){if(n&1&&(i(0,"div",0)(1,"div",1),u(),i(2,"svg",2),s(3,"circle",3)(4,"path",4),o()(),C(),i(5,"div",5)(6,"h4",6),r(7,"Pending Review"),o(),i(8,"p",7),r(9),o(),i(10,"div",8),w(11,V,10,3,"div",9,R),m(13,z,10,2,"div",9),o()(),b(14),o()),n&2){let e=c();a(9),g(e.title()),a(2),I(e.pendingChanges),a(2),d(e.imgChange?13:-1)}}var M=class n{request=y.required();personalInfo=f.required();vehicleInfo=f.required();title=f.required();get pendingChanges(){let t=[],e=(h,p,l)=>{if(l!=null&&l!==p){if(Array.isArray(l)){let x=Array.isArray(p)?p:[],E=l;if(x.length===E.length&&x.every(N=>E.includes(N)))return}t.push({label:h,oldValue:this.formatValue(p),newValue:this.formatValue(l)})}};return e("First name",this.personalInfo().firstName,this.request()?.firstName),e("Last name",this.personalInfo().lastName,this.request()?.lastName),e("Phone number",this.personalInfo().phoneNumber,this.request()?.phoneNumber),e("Address",this.personalInfo().address,this.request()?.address),e("Email",this.personalInfo().email,this.request()?.email),this.vehicleInfo()===null||(e("Vehicle type",this.vehicleInfo().type,this.request()?.vehicleType),e("Vehicle model",this.vehicleInfo().model,this.request()?.model),e("License plate",this.vehicleInfo().licensePlate,this.request()?.licensePlate),e("Number of seats",this.vehicleInfo().numberOfSeats,this.request()?.numberOfSeats),e("Additional driver-location",this.vehicleInfo().additionalServices,this.request()?.additionalServices)),t}formatValue(t){return Array.isArray(t)?t.join(", "):t==null?"\u2014":String(t)}get imgChange(){return this.request()?.imgSrc===void 0||this.request()?.imgSrc===this.personalInfo().imgSrc?null:{label:"Profile Image",oldValue:this.personalInfo().imgSrc??null,newValue:this.request()?.imgSrc??null}}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=q({type:n,selectors:[["app-request-change-preview"]],inputs:{request:[1,"request"],personalInfo:[1,"personalInfo"],vehicleInfo:[1,"vehicleInfo"],title:[1,"title"]},outputs:{request:"requestChange"},ngContentSelectors:O,decls:1,vars:1,consts:[[1,"pending-review-alert"],[1,"alert-icon"],["width","24","height","24","viewBox","0 0 24 24","fill","none"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","2"],["d","M12 8v4M12 16h.01","stroke","currentColor","stroke-width","2","stroke-linecap","round"],[1,"alert-content"],[1,"alert-title"],[1,"alert-message"],[1,"pending-changes-list"],[1,"pending-item"],[1,"change-field"],[1,"change-value"],["width","25px","height","25px","viewBox","0 0 16 16","xmlns","http://www.w3.org/2000/svg","fill","#000000",1,"bi","bi-arrow-right-short"],["fill-rule","evenodd","d","M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z"],["alt","Old Profile Image",1,"preview-image",3,"src"],["alt","New Profile Image",1,"preview-image",3,"src"]],template:function(e,h){e&1&&(P(),m(0,L,15,2,"div",0)),e&2&&d(h.request()?0:-1)},dependencies:[S],styles:[".pending-review-alert[_ngcontent-%COMP%]{background:#fef3cd;border:2px solid #f59e0b;border-radius:12px;padding:1.5rem;margin-bottom:2rem;display:flex;gap:1rem;align-items:flex-start;animation:_ngcontent-%COMP%_slideIn .3s ease}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.alert-icon[_ngcontent-%COMP%]{flex-shrink:0;width:48px;height:48px;background:#f59e0b;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#1a1a1a}.alert-content[_ngcontent-%COMP%]{flex:1}.alert-title[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:700;color:#1a1a1a;margin-bottom:.5rem}.alert-message[_ngcontent-%COMP%]{font-size:.9375rem;color:#4a4a4a;line-height:1.5;margin-bottom:1rem}.pending-changes-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;background:#fff9;padding:1rem;border-radius:8px;border-left:4px solid #f59e0b}.pending-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem}.change-field[_ngcontent-%COMP%]{font-weight:600;color:#1a1a1a}.change-value[_ngcontent-%COMP%]{color:#4a4a4a;font-family:monospace;display:flex;gap:.5rem;align-items:center}@media(max-width:768px){.pending-review-alert[_ngcontent-%COMP%]{flex-direction:column}}.preview-image[_ngcontent-%COMP%]{max-width:150px;border-radius:8px;border:1px solid #d4af37}"]})};export{M as a};
