import{a as h}from"./chunk-N5ONJPTC.js";import"./chunk-PBSO56S7.js";import{f as x}from"./chunk-DMUBA5XY.js";import{b as v}from"./chunk-GX4BJWGY.js";import{a as m}from"./chunk-WZWIJEA2.js";import{Ac as u,Ha as l,Hb as f,K as p,P as n,Va as s,fa as a,kb as g,lb as c,mb as d,wb as b}from"./chunk-GHGVHUHC.js";import"./chunk-TSRGIXR5.js";var i=class r{http=n(u);loadActiveRides(){return this.http.get(`api/${m.apiVersion}/rides/my`)}static \u0275fac=function(o){return new(o||r)};static \u0275prov=p({token:r,factory:r.\u0275fac,providedIn:"root"})};var C=class r{rides=a([]);loading=a(!1);driverHomepageService=n(i);popupsService=n(v);router=n(x);rideConfig={showDriverInfo:!0,showPassengerInfo:!0,showPanicButton:!0,showInconsistencyReports:!0,showRatings:!0,showReorderOption:!0,canViewDetails:!0,showUserFilters:!0,showRateButton:!1};ngOnInit(){this.loadRides()}loadRides(){this.loading.set(!0),this.driverHomepageService.loadActiveRides().subscribe({next:e=>{this.rides.set(e),this.loading.set(!1)},error:e=>{this.popupsService.error("Error loading active rides",e?.error?.message||"There was an error loading active rides. Please try again later."),this.rides.set([])}})}onRideClick(e){this.router.navigate(["rides",e.id]).then()}static \u0275fac=function(o){return new(o||r)};static \u0275cmp=s({type:r,selectors:[["app-driver-home-page"]],decls:5,vars:3,consts:[[1,"ride-active-container"],[1,"active-header"],[3,"rideClick","rides","config","loading"]],template:function(o,t){o&1&&(c(0,"div",0)(1,"div",1)(2,"h2"),f(3,"Your rides"),d()(),c(4,"app-rides-list",2),b("rideClick",function(P){return t.onRideClick(P)}),d()()),o&2&&(l(4),g("rides",t.rides())("config",t.rideConfig)("loading",t.loading()))},dependencies:[h],styles:["[_nghost-%COMP%]{--primary-green: #2d5a3d;--dark-bg: #2a2a2a;--card-bg: #3a3a3a;--accent-green: #4a9d5f;--light-green: #5cb85c;--text-light: #e0e0e0;--text-muted: #999;--border-color: #4a4a4a}.ride-active-container[_ngcontent-%COMP%]{padding:20px;max-width:1200px;margin:0 auto;background-color:var(--dark-bg);min-height:100vh;color:var(--text-light)}h2[_ngcontent-%COMP%]{margin-bottom:24px;color:var(--text-light)}.active-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;flex-wrap:wrap;gap:15px;padding:20px;background-color:var(--primary-green);border-radius:8px;box-shadow:0 2px 8px #0000004d}.active-controls[_ngcontent-%COMP%]{display:flex;gap:12px;flex-wrap:wrap}.sort-field-select[_ngcontent-%COMP%], .page-size-select[_ngcontent-%COMP%]{padding:8px 12px;border:1px solid var(--border-color);border-radius:6px;background-color:var(--card-bg);color:var(--text-light);cursor:pointer;font-size:14px;transition:all .2s}.sort-field-select[_ngcontent-%COMP%]:hover, .page-size-select[_ngcontent-%COMP%]:hover{border-color:var(--accent-green)}.sort-field-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%], .page-size-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:var(--card-bg);color:var(--text-light)}.btn-sort[_ngcontent-%COMP%], .btn-filter[_ngcontent-%COMP%]{padding:8px 16px;background-color:var(--card-bg);color:var(--text-light);border:1px solid var(--border-color);border-radius:6px;cursor:pointer;transition:all .2s;font-size:14px;font-weight:600}.btn-sort[_ngcontent-%COMP%]:hover, .btn-filter[_ngcontent-%COMP%]:hover{background-color:#4a4a4a;border-color:var(--accent-green)}.filters-panel[_ngcontent-%COMP%]{background-color:var(--card-bg);border:1px solid var(--border-color);border-radius:8px;padding:20px;margin-bottom:20px;display:flex;gap:15px;flex-wrap:wrap;align-items:flex-end}.filter-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px;min-width:200px}.filter-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:var(--text-muted);text-transform:uppercase;letter-spacing:1px}.date-input[_ngcontent-%COMP%]{padding:8px 12px;border:1px solid var(--border-color);border-radius:6px;font-size:14px;background-color:var(--dark-bg);color:var(--text-light);transition:all .2s}.date-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--accent-green)}.filter-actions[_ngcontent-%COMP%]{display:flex;gap:10px}.btn-apply[_ngcontent-%COMP%], .btn-clear[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:6px;cursor:pointer;font-size:14px;font-weight:600;transition:all .2s}.btn-apply[_ngcontent-%COMP%]{background-color:var(--light-green);color:#fff}.btn-apply[_ngcontent-%COMP%]:hover{background-color:var(--accent-green);transform:translateY(-2px)}.btn-clear[_ngcontent-%COMP%]{background-color:var(--card-bg);color:var(--text-light);border:1px solid var(--border-color)}.btn-clear[_ngcontent-%COMP%]:hover{background-color:#4a4a4a;border-color:#8b3a3a}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:16px;margin-top:24px;padding:16px;background-color:var(--card-bg);border-radius:8px;border:1px solid var(--border-color)}.btn-pagination[_ngcontent-%COMP%]{padding:8px 16px;background-color:var(--light-green);color:#fff;border:none;border-radius:6px;cursor:pointer;transition:all .2s;font-weight:600}.btn-pagination[_ngcontent-%COMP%]:hover:not(:disabled){background-color:var(--accent-green);transform:translateY(-2px)}.btn-pagination[_ngcontent-%COMP%]:disabled{background-color:#5a5a5a;cursor:not-allowed;opacity:.5}.pagination-info[_ngcontent-%COMP%]{font-size:14px;color:var(--text-light)}.page-size-select[_ngcontent-%COMP%]{padding:6px 12px;border:1px solid var(--border-color);border-radius:4px;cursor:pointer}@media(max-width:768px){.active-header[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.active-controls[_ngcontent-%COMP%], .filters-panel[_ngcontent-%COMP%]{flex-direction:column}.filter-group[_ngcontent-%COMP%]{min-width:100%}}chat-input-container[_ngcontent-%COMP%]{padding:16px;border-top:1px solid #3a3a3a;display:flex;gap:1rem}.chat-input[_ngcontent-%COMP%]{flex:1;background:transparent;border:1px solid #4a4a4a;border-radius:4px;padding:10px 12px;color:#fff;font-size:13px}.chat-input[_ngcontent-%COMP%]::placeholder{color:#888}.chat-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#1a5c3a}.send-btn[_ngcontent-%COMP%]{background:#1a5c3a;color:#fff;border:none;border-radius:4px;padding:10px 24px;cursor:pointer;font-size:13px;font-weight:600;transition:background .2s}.send-btn[_ngcontent-%COMP%]:hover{background:#236b48}.send-btn[_ngcontent-%COMP%]:active{background:#154a30}"]})};export{C as DriverHomePageComponent};
