import{a as N}from"./chunk-2P3MQONH.js";import{b as C,c as l,d as _,e as M,f as b,g as O,i as h,l as v,m as w,s as x,v as S}from"./chunk-OXPWAMAC.js";import{a as y}from"./chunk-YHIKCUN3.js";import"./chunk-5IMUJISG.js";import{b as F}from"./chunk-GX4BJWGY.js";import"./chunk-WZWIJEA2.js";import{Ha as c,Hb as r,P as a,Va as u,eb as g,fb as f,kb as d,lb as t,mb as o,nb as p,wb as P}from"./chunk-GHGVHUHC.js";import"./chunk-TSRGIXR5.js";function D(i,s){i&1&&(t(0,"small"),r(1," Username must be an email "),o())}var k=class i{unregisteredAuthService=a(y);popupsService=a(F);forgotPasswordForm=new b({username:new O("",[l.required,l.email])});onSubmit(){if(this.forgotPasswordForm.valid){let s=this.forgotPasswordForm.get("username")?.value??"";this.unregisteredAuthService.forgotPassword(s).subscribe({next:()=>{this.popupsService.success("Success","Link sent to your email")},error:()=>{this.popupsService.error("Error","Failed to send password reset email. Please try again.")}})}}static \u0275fac=function(m){return new(m||i)};static \u0275cmp=u({type:i,selectors:[["app-forgot-password"]],decls:13,vars:2,consts:[[1,"main"],[1,"user-form",3,"ngSubmit","formGroup"],[1,"login-container"],[1,"form-group"],["type","text","id","username","formControlName","username","required","","placeholder"," "],["for","username","id","focus"],[1,"button-container"],["appButton","","type","submit",1,"submit-btn"]],template:function(m,n){if(m&1&&(t(0,"main",0)(1,"form",1),P("ngSubmit",function(){return n.onSubmit()}),t(2,"div",2)(3,"h2"),r(4,"Forgot Password"),o(),t(5,"div",3),p(6,"input",4),t(7,"label",5),r(8,"Username"),o(),g(9,D,2,0,"small"),o()(),t(10,"div",6)(11,"button",7),r(12,"Restart password"),o()()()()),m&2){let e;c(),d("formGroup",n.forgotPasswordForm),c(8),f((e=n.forgotPasswordForm.get("username"))!=null&&e.invalid&&((e=n.forgotPasswordForm.get("username"))!=null&&e.dirty||(e=n.forgotPasswordForm.get("username"))!=null&&e.touched)?9:-1)}},dependencies:[S,h,C,_,M,x,w,v,N],styles:[".user-form[_ngcontent-%COMP%]{align-self:center;display:flex;flex-direction:column;justify-content:flex-start;width:20%;height:30%;padding:20px;border:.1rem solid #1C6331;border-radius:5px;background-color:#322d2b;color:#fff}.user-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;border-bottom:#fff .1rem solid;margin-left:10px;margin-right:10px;margin-bottom:5rem}.user-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{width:80%;margin-bottom:1rem;margin-left:10%;position:relative}.user-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border:none;padding:.3rem;border-radius:10px;border:#1C6331 .1rem solid}.user-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   #focus[_ngcontent-%COMP%]{position:absolute;top:.5rem;left:.5rem;color:#aaa;font-size:1rem;pointer-events:none;transition:all .2s ease-out}.user-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border:#1C6331 .2rem solid}.user-form[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{display:flex;align-items:center}.user-form[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]{width:80%;margin-left:10%;background-color:#1c6331;color:#fff;border:none;border-radius:5px;cursor:pointer;font-size:16px}.user-form[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]:hover{background-color:#145224}.user-form[_ngcontent-%COMP%]   .form-bottom[_ngcontent-%COMP%]{text-align:center;color:#ccc}.user-form[_ngcontent-%COMP%]   .form-bottom[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}.user-form[_ngcontent-%COMP%]   .form-bottom[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{margin-bottom:1rem}.user-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus + #focus[_ngcontent-%COMP%], .user-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown) + #focus[_ngcontent-%COMP%]{top:-.7rem;font-size:.75rem;color:#fff}small[_ngcontent-%COMP%]{color:#ff4d4d;font-size:12px;display:block;margin-top:5px}.main[_ngcontent-%COMP%]{height:100vh;display:flex;justify-content:space-evenly;align-items:flex-end;background-color:#222121}@media(max-width:768px){.user-form[_ngcontent-%COMP%]{width:80%}.object[_ngcontent-%COMP%]{display:none}}@media(max-height:430px){.main[_ngcontent-%COMP%]{align-items:center}.user-form[_ngcontent-%COMP%]{justify-content:center}.user-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:10px}}"]})};export{k as ForgotPassword};
