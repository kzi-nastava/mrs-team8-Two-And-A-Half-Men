import{a as O}from"./chunk-PBSO56S7.js";import{Fb as R,Ha as a,Hb as r,Ib as p,Jb as C,U as u,V as v,Va as b,Zb as f,_b as x,eb as c,fb as l,hb as _,ib as g,jb as m,kb as P,lb as n,mb as i,mc as k,nb as E,sc as M,ub as S,wb as h,yb as s}from"./chunk-GHGVHUHC.js";var I=(t,o)=>o.id;function L(t,o){t&1&&(n(0,"div",0),E(1,"div",2),n(2,"p"),r(3,"Loading..."),i()())}function y(t,o){t&1&&(n(0,"div",3)(1,"p"),r(2,"There are no rides"),i()())}function N(t,o){t&1&&(n(0,"span",8),r(1,"\u26A0\uFE0F"),i())}function F(t,o){if(t&1&&(n(0,"div",10)(1,"span",11),r(2,"Start time:"),i(),n(3,"span",12),r(4),i()()),t&2){let e=s().$implicit,d=s(2);a(4),p(d.formatDate(e.startTime))}}function A(t,o){if(t&1&&(n(0,"div",10)(1,"span",11),r(2,"End time:"),i(),n(3,"span",12),r(4),i()()),t&2){let e=s().$implicit,d=s(2);a(4),p(d.formatDate(e.endTime))}}function $(t,o){if(t&1&&(n(0,"div",10)(1,"span",11),r(2,"Driver:"),i(),n(3,"span",12),r(4),i()()),t&2){let e=s().$implicit;a(4),p(e.driverName)}}function V(t,o){if(t&1&&(n(0,"span",16),r(1),i()),t&2){let e=o.$implicit;a(),p(e.email)}}function z(t,o){if(t&1&&(n(0,"div",10)(1,"span",11),r(2,"Ride owner:"),i(),n(3,"span",12),r(4),i()(),n(5,"div",10)(6,"span",11),r(7,"Passengers:"),i(),n(8,"div",15),g(9,V,2,1,"span",16,_),i()()),t&2){let e=s().$implicit;a(4),p(e.rideOwnerName),a(5),m(e.passengers)}}function B(t,o){if(t&1&&(n(0,"div",14)(1,"span",11),r(2,"Cancellation reason:"),i(),n(3,"span",12),r(4),i()()),t&2){let e=s().$implicit;a(4),p(e.cancellationReason)}}function K(t,o){if(t&1&&(n(0,"span",18),r(1),i()),t&2){let e=o.$implicit;a(),p(e)}}function q(t,o){if(t&1&&(n(0,"div",10)(1,"span",11),r(2,"Additional services:"),i(),n(3,"div",17),g(4,K,2,1,"span",18,_),i()()),t&2){let e=s().$implicit;a(4),m(e.additionalServices)}}function G(t,o){if(t&1){let e=S();n(0,"div",5),h("click",function(){let w=u(e).$implicit,D=s(2);return v(D.onRideClick(w))}),n(1,"div",6)(2,"span",7),r(3),i(),c(4,N,2,0,"span",8),i(),n(5,"div",9)(6,"div",10)(7,"span",11),r(8,"Start point:"),i(),n(9,"span",12),r(10),i()(),n(11,"div",10)(12,"span",11),r(13,"Destination:"),i(),n(14,"span",12),r(15),i()(),c(16,F,5,1,"div",10),c(17,A,5,1,"div",10),n(18,"div",10)(19,"span",11),r(20,"Total cost:"),i(),n(21,"span",13),r(22),i()(),c(23,$,5,1,"div",10),c(24,z,11,1),c(25,B,5,1,"div",14),c(26,q,6,0,"div",10),i()()}if(t&2){let e=o.$implicit,d=s(2);R("clickable",d.config().canViewDetails),a(2),P("ngClass",d.getStatusClass(e.status)),a(),C(" ",d.getStatusText(e.status)," "),a(),l(e.status===d.RideStatus.PANICKED&&d.config().showPanicButton?4:-1),a(6),p(e.locations[0].address),a(5),p(e.locations[e.locations.length-1].address),a(),l(e.startTime?16:-1),a(),l(e.endTime?17:-1),a(5),C("",e.totalCost," RSD"),a(),l(d.config().showDriverInfo?23:-1),a(),l(d.config().showPassengerInfo?24:-1),a(),l(e.status===d.RideStatus.CANCELLED&&e.cancellationReason?25:-1),a(),l(e.additionalServices.length>0?26:-1)}}function H(t,o){if(t&1&&(n(0,"div",1),c(1,y,3,0,"div",3),g(2,G,27,14,"div",4,I),i()),t&2){let e=s();a(),l(e.rides().length===0?1:-1),a(),m(e.rides())}}var T=class t{rides=x.required();config=x.required();loading=x(!1);rideClick=f();reorderClick=f();RideStatus=O;onRideClick(o){this.config().canViewDetails&&this.rideClick.emit(o)}onReorderClick(o,e){o.stopPropagation(),this.reorderClick.emit(e)}getStatusClass(o){return{PENDING:"status-pending",ACCEPTED:"status-accepted",ACTIVE:"status-active",FINISHED:"status-finished",INTERRUPTED:"status-interrupted",CANCELLED:"status-cancelled",PANICKED:"status-panicked"}[o]}getStatusText(o){return{PENDING:"Pending",ACCEPTED:"Accepted",ACTIVE:"Active",FINISHED:"Finished",INTERRUPTED:"Interrupted",CANCELLED:"Cancelled",PANICKED:"Panicked"}[o]}formatDate(o){return new Date(o).toLocaleString("sr-RS",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=b({type:t,selectors:[["app-rides-list"]],inputs:{rides:[1,"rides"],config:[1,"config"],loading:[1,"loading"]},outputs:{rideClick:"rideClick",reorderClick:"reorderClick"},decls:2,vars:2,consts:[[1,"loading-spinner"],[1,"rides-list"],[1,"spinner"],[1,"no-rides"],[1,"ride-card",3,"clickable"],[1,"ride-card",3,"click"],[1,"ride-header"],[1,"status-badge",3,"ngClass"],[1,"panic-indicator"],[1,"ride-info"],[1,"info-row"],[1,"label"],[1,"value"],[1,"value","price"],[1,"info-row","cancellation"],[1,"passengers-list"],[1,"passenger-email"],[1,"services-list"],[1,"service-tag"]],template:function(e,d){e&1&&(c(0,L,4,0,"div",0),c(1,H,4,1,"div",1)),e&2&&(l(d.loading()?0:-1),a(),l(d.loading()?-1:1))},dependencies:[M,k],styles:["[_nghost-%COMP%]{--primary-green: #2d5a3d;--dark-bg: #2a2a2a;--card-bg: #3a3a3a;--accent-green: #4a9d5f;--light-green: #5cb85c;--text-light: #e0e0e0;--text-muted: #999;--border-color: #4a4a4a}.loading-spinner[_ngcontent-%COMP%]{text-align:center;padding:40px;color:var(--text-light)}.spinner[_ngcontent-%COMP%]{border:3px solid var(--border-color);border-top:3px solid var(--light-green);border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 16px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.rides-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.no-rides[_ngcontent-%COMP%]{text-align:center;padding:40px;color:var(--text-muted);background-color:var(--card-bg);border-radius:8px;border:1px solid var(--border-color)}.ride-card[_ngcontent-%COMP%]{background:var(--card-bg);border:1px solid var(--border-color);border-radius:12px;padding:20px;transition:all .2s}.ride-card.clickable[_ngcontent-%COMP%]{cursor:pointer}.ride-card.clickable[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #4a9d5f4d;transform:translateY(-2px);border-color:var(--accent-green)}.ride-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.status-badge[_ngcontent-%COMP%]{padding:6px 12px;border-radius:20px;font-size:14px;font-weight:600}.status-pending[_ngcontent-%COMP%]{background-color:#8b7d3a;color:#fff}.status-accepted[_ngcontent-%COMP%]{background-color:#3a6d8b;color:#fff}.status-active[_ngcontent-%COMP%]{background-color:var(--accent-green);color:#fff}.status-finished[_ngcontent-%COMP%]{background-color:#5a5a5a;color:var(--text-light)}.status-interrupted[_ngcontent-%COMP%]{background-color:#8b4a3a;color:#fff}.status-cancelled[_ngcontent-%COMP%]{background-color:#8b3a3a;color:#fff}.status-panicked[_ngcontent-%COMP%]{background-color:#d9534f;color:#fff}.panic-indicator[_ngcontent-%COMP%]{background-color:#d9534f;color:#fff;padding:6px 12px;border-radius:20px;font-weight:700;animation:_ngcontent-%COMP%_pulse 1.5s infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.6}}.ride-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.info-row[_ngcontent-%COMP%]{display:flex;gap:12px}.info-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:600;color:var(--text-muted);min-width:140px;text-transform:uppercase;font-size:13px;letter-spacing:1px}.info-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:var(--text-light)}.info-row.cancellation[_ngcontent-%COMP%]{background-color:#4a3d28;padding:8px;border-radius:4px;border-left:3px solid #f0ad4e}.price[_ngcontent-%COMP%]{font-weight:700;color:var(--light-green);font-size:18px}.passengers-list[_ngcontent-%COMP%], .services-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px}.passenger-email[_ngcontent-%COMP%]{background-color:var(--primary-green);padding:4px 8px;border-radius:4px;font-size:14px;color:var(--text-light);border:1px solid var(--accent-green)}.service-tag[_ngcontent-%COMP%]{background-color:var(--dark-bg);padding:4px 8px;border-radius:4px;font-size:14px;color:var(--text-light);border:1px solid var(--border-color)}.ride-actions[_ngcontent-%COMP%]{display:flex;gap:12px;margin-top:16px;padding-top:16px;border-top:1px solid var(--border-color)}.btn-reorder[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:6px;font-weight:600;cursor:pointer;transition:all .2s;background-color:var(--light-green);color:#fff}.btn-reorder[_ngcontent-%COMP%]:hover{background-color:var(--accent-green);transform:translateY(-2px)}"]})};export{T as a};
