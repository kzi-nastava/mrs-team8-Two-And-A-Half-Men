import{a as v,b as x,c as g,d as w,e as S,f as y,g as d,i as F,l as k,m as L,s as E,v as z}from"./chunk-OXPWAMAC.js";import{f as P,g as h,i as O}from"./chunk-DMUBA5XY.js";import{a as G}from"./chunk-YHIKCUN3.js";import"./chunk-5IMUJISG.js";import{b as N}from"./chunk-GX4BJWGY.js";import"./chunk-WZWIJEA2.js";import{Ha as u,Hb as t,P as c,Va as C,eb as f,fb as p,kb as M,lb as e,mb as n,nb as a,sc as b,wb as _}from"./chunk-GHGVHUHC.js";import"./chunk-TSRGIXR5.js";function R(m,s){m&1&&(e(0,"small"),t(1," Username must be an email "),n())}function A(m,s){m&1&&(e(0,"small"),t(1," Password must be at least 6 characters "),n())}var j=class m{unregisteredAuthService=c(G);router=c(P);popupsService=c(N);loginFailed=!1;loginForm=new y({username:new d("",[g.required,g.email]),password:new d("",[g.required,g.minLength(6)]),rememberMe:new d(!1)});onSubmit(){if(this.loginForm.valid){let s=this.loginForm.get("username")?.value??"",l=this.loginForm.get("password")?.value??"",o=!!this.loginForm.get("rememberMe")?.value,r={username:s,password:l};this.unregisteredAuthService.login(r,o).subscribe({next:()=>{this.router.navigate([""]).then()},error:i=>{this.loginFailed=!0,this.popupsService.error("Login Failed",i.error?.message||"An error occurred during login. Please try again.")}})}else this.popupsService.error("Error","Please fill in the form correctly.")}static \u0275fac=function(l){return new(l||m)};static \u0275cmp=C({type:m,selectors:[["app-login"]],decls:32,vars:3,consts:[[1,"main"],[1,"object"],[1,"user-form",3,"ngSubmit","formGroup"],[1,"login-container"],[1,"form-group"],["type","text","id","username","formControlName","username","required","","placeholder"," "],["for","username","id","focus"],["type","password","id","password","formControlName","password","required","","placeholder"," "],["for","password","id","focus"],["id","rememberMeGroup",1,"form-group"],["type","checkbox","id","rememberMe","formControlName","rememberMe"],["for","rememberMe"],[1,"button-container"],["type","submit",1,"submit-btn"],[1,"form-bottom"],[1,"divider"],["routerLink","/forgot-password",1,"forgot-password-link"],["routerLink","/register",1,"register-link"]],template:function(l,o){if(l&1&&(e(0,"main",0),a(1,"div",1),e(2,"form",2),_("ngSubmit",function(){return o.onSubmit()}),e(3,"div",3)(4,"h2"),t(5,"Login"),n(),e(6,"div",4),a(7,"input",5),e(8,"label",6),t(9,"Username"),n(),f(10,R,2,0,"small"),n(),e(11,"div",4),a(12,"input",7),e(13,"label",8),t(14,"Password"),n(),f(15,A,2,0,"small"),n(),e(16,"div",9),a(17,"input",10),e(18,"label",11),t(19,"Remember Me"),n()()(),e(20,"div",12)(21,"button",13),t(22,"Login"),n()(),e(23,"div",14)(24,"div",15)(25,"a",16),t(26,"Forgot Password?"),n()(),e(27,"div",15)(28,"a",17),t(29,"You don't have an account? "),a(30,"br"),t(31," Register here!"),n()()()()()),l&2){let r,i;u(2),M("formGroup",o.loginForm),u(8),p((r=o.loginForm.get("username"))!=null&&r.invalid&&((r=o.loginForm.get("username"))!=null&&r.dirty||(r=o.loginForm.get("username"))!=null&&r.touched)?10:-1),u(5),p((i=o.loginForm.get("password"))!=null&&i.invalid&&((i=o.loginForm.get("password"))!=null&&i.dirty||(i=o.loginForm.get("password"))!=null&&i.touched)?15:-1)}},dependencies:[z,F,x,v,w,S,E,L,k,b,O,h],styles:[".object[_ngcontent-%COMP%]{height:95%;width:80%;background-color:#145224;border-radius:10rem;overflow:hidden;align-items:flex-end;margin-left:-30vw;z-index:3}.user-form[_ngcontent-%COMP%]{z-index:2;align-self:center;display:flex;flex-direction:column;justify-content:space-evenly;width:30%;height:80%;padding:20px;border:.1rem solid #1C6331;border-radius:5px;background-color:#322d2b;font-size:1.5rem;color:#fff}.user-form[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]{flex:1}.user-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;border-bottom:#fff .1rem solid;margin-left:10px;margin-right:10px;margin-bottom:5rem}.user-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{width:80%;margin-bottom:1rem;margin-left:10%;position:relative;height:4rem}.user-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border:none;padding:.3rem;border-radius:10px;border:#1C6331 .1rem solid;height:2rem;font-size:1.5rem}.user-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   #focus[_ngcontent-%COMP%]{position:absolute;top:.3rem;left:.5rem;color:#aaa;pointer-events:none;transition:all .2s ease-out}.user-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border:#1C6331 .2rem solid}.user-form[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{flex:2;display:flex;align-items:center}.user-form[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]{width:80%;margin-left:10%;background-color:#1c6331;color:#fff;border:none;border-radius:5px;font-size:2rem;cursor:pointer}.user-form[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]:hover{background-color:#145224}.user-form[_ngcontent-%COMP%]   .form-bottom[_ngcontent-%COMP%]{text-align:center;color:#ccc}.user-form[_ngcontent-%COMP%]   .form-bottom[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}.user-form[_ngcontent-%COMP%]   .form-bottom[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{margin-bottom:1rem}.user-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus + #focus[_ngcontent-%COMP%], .user-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown) + #focus[_ngcontent-%COMP%]{top:-.9rem;font-size:.75rem;color:#fff}small[_ngcontent-%COMP%]{color:#ff4d4d;font-size:12px;display:block;margin-top:5px}.main[_ngcontent-%COMP%]{height:100vh;display:flex;justify-content:space-evenly;align-items:flex-end;background-color:#222121}@media(max-width:768px){.user-form[_ngcontent-%COMP%]{width:80%}.object[_ngcontent-%COMP%]{display:none}.main[_ngcontent-%COMP%]{align-items:center}.user-form[_ngcontent-%COMP%]{justify-content:center;font-size:1rem}.user-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:3rem}.user-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:1rem;height:1rem}.user-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{height:3.2rem}}#rememberMeGroup[_ngcontent-%COMP%]{width:80%;display:flex;align-items:center;margin-top:-10px}#rememberMeGroup[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:auto}#error-message[_ngcontent-%COMP%]{color:#ff4d4d;font-size:1rem;width:80%;margin-left:10%}"]})};export{j as Login};
