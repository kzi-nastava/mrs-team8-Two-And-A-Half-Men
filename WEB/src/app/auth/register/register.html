<main class="main">

<div class="object">
</div>
<form class="user-form" [formGroup]="registerForm" (ngSubmit)="onSubmit()">
        <div class="login-container">
            <h2>Register</h2>
            @if(step === 1) { 
            <div class="form-group">
            <input type="text" id="firstName" formControlName="firstName" required placeholder=" ">
            <label for="firstName" id="focus">First Name</label>
            @if (registerForm.get('firstName')?.invalid && (registerForm.get('firstName')?.dirty || registerForm.get('firstName')?.touched)) {
                      <small> 
                        First Name is required
                      </small>

                  }
            </div>
            <div class="form-group">
                <input type="text" id="lastName" formControlName="lastName"required placeholder=" ">
                <label for="lastName" id="focus">Last Name</label>
            @if (registerForm.get('lastName')?.invalid && (registerForm.get('lastName')?.dirty || registerForm.get('lastName')?.touched)) {
                      <small> 
                        Last Name is required
                      </small>
                  }
            </div>
            <div class="form-group">
                <input type="phoneNumber" id="phoneNumber" formControlName="phoneNumber" required placeholder=" ">
                <label for="phoneNumber" id="focus">Phone Number</label>
            @if (registerForm.get('phoneNumber')?.invalid && (registerForm.get('phoneNumber')?.dirty || registerForm.get('phoneNumber')?.touched)) {
                      
                      <small> 
                            @if (registerForm.get('phoneNumber')?.errors?.['required']) {
                        Phone Number is required
                            }
                            @else if (registerForm.get('phoneNumber')?.errors?.['pattern']) {
                                Phone number format is invalid (e.g. 381601234567)                            
                              }
                      </small>
                  }
            </div>
            <div class="form-group">
                <input type="text" id="address" formControlName="address" required placeholder=" ">
                <label for="address" id="focus">Address</label>
            @if (registerForm.get('address')?.invalid && (registerForm.get('address')?.dirty || registerForm.get('address')?.touched)) {
                      <small> 
                        Address is required
                      </small>
                  }
            </div>

            }
            @if(step === 2) {
            <div class="form-group">
                <input type="email" id="email" formControlName="email" required placeholder=" ">
                <label for="email" id="focus">Email</label>
            @if (registerForm.get('email')?.invalid && (registerForm.get('email')?.dirty || registerForm.get('email')?.touched)) {
                      <small> 
                        Email is required
                      </small>
            
                  }
            </div>
            <div class="form-group">
                <input type="password" id="password" formControlName="password" required placeholder=" ">
                <label for="password" id="focus">Password</label>
            @if (registerForm.get('password')?.invalid && (registerForm.get('password')?.dirty || registerForm.get('password')?.touched)) {
                      <small> 
                        Password must be at least 6 characters
                      </small>
                  }
     
            </div>  
                        <div class="form-group">
                <input type="password" id="confirmPassword" formControlName="confirmPassword" required placeholder=" ">
                <label for="confirmPassword" id="focus">Confirm Password</label>
            @if (registerForm.get('confirmPassword')?.invalid && (registerForm.get('confirmPassword')?.dirty || registerForm.get('confirmPassword')?.touched)) {
                      <small> 
                        Confirm Password is required
                      </small>
                  }
            </div> 
            }
            <small id="error-register"></small>
          </div>
          <div class="button-container">
            @if(step === 1) {
            <button type="button" class="submit-btn" (click)="next()">Next</button>
            } 
            @if(step === 2) {
            <button type="button" class="submit-btn" (click)="previous()">Previous</button>
            <button type="submit" class="submit-btn">Register</button>
            }

          </div>

        <div class="form-bottom">
            <div class="divider">
            <a routerLink="/login" class="register-link">You have an account? <br> Login here!</a>
            </div>
        
        </div>
</form>
</main>