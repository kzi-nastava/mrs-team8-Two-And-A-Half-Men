<nav class="navbar" [ngStyle]="getStyles()">
	<div class="navbar-container">
		<!-- Left Section: Logo and Name -->
		<div class="navbar-left">
			<div class="navbar-brand">
				<ng-container *ngIf="config().isSvgLogo; else logoImage">
					<div class="navbar-logo-svg" [innerHTML]="getSafeLogo()" (click)="LogoClick()">
						<!-- SVG Logo will be injected here -->
					</div>
				</ng-container>
				<ng-template #logoImage>
					<img
						*ngIf="config().logoUrl"
						[src]="config().logoUrl"
						alt="Logo"
						class="navbar-logo"
					/>
				</ng-template>
				<span *ngIf="config().logoText" class="navbar-title" (click)="LogoClick()">
					{{ config().logoText }}
				</span>
			</div>

			<!-- Left-positioned buttons -->
			<div class="navbar-buttons-left">
				@for (button of getLeftButtons(); track button.id) {
					@if (button.type === 'text') {
						<button
							appButton
							(click)="handleButtonClick(button, $event)"
							[attr.aria-label]="button.label"
							class="text-button"
						>
							<!-- Text button -->
							<span class="btn-text">
								{{ button.label }}
							</span>
						</button>
					} @else {
						<button
							(click)="handleButtonClick(button, $event)"
							[attr.aria-label]="button.label"
							class="icon-button"
						>
							<!-- Icon button -->
							<img
								*ngIf="button.type === 'icon' && button.icon"
								[src]="button.icon"
								[alt]="button.label || 'Icon'"
								class="btn-icon"
							/>

							<!-- Image button -->
							<img
								*ngIf="button.type === 'image' && button.imageUrl"
								[src]="button.imageUrl"
								[alt]="button.label || 'Image'"
								class="btn-image"
							/>

							<!-- Notification button -->
							<div
								*ngIf="button.type === 'notification'"
								class="notification-container"
							>
								<img
									*ngIf="button.icon"
									[src]="button.icon"
									alt="Notifications"
									class="btn-icon"
								/>
								<span
									*ngIf="button.notificationCount && button.notificationCount > 0"
									class="notification-badge"
								>
									{{
										button.notificationCount > 99
											? '99+'
											: button.notificationCount
									}}
								</span>
							</div>
						</button>
					}
				}
			</div>
		</div>

		<!-- Right Section: Action Buttons -->
		<div class="navbar-right">
			@for (button of getRightButtons(); track button.id) {
				@if (button.type === 'text') {
					<button
						appButton
						(click)="handleButtonClick(button, $event)"
						[attr.aria-label]="button.label"
						class="text-button"
					>
						<!-- Text button -->
						<span class="btn-text">
							{{ button.label }}
						</span>
					</button>
				} @else {
					<button
						(click)="handleButtonClick(button, $event)"
						[attr.aria-label]="button.label"
						class="icon-button"
					>
						<!-- Icon button -->
						<img
							*ngIf="button.type === 'icon' && button.icon"
							[src]="button.icon"
							[alt]="button.label || 'Icon'"
							class="btn-icon"
						/>

						<!-- Image button -->
						<img
							*ngIf="button.type === 'image' && button.imageUrl"
							[src]="button.imageUrl"
							[alt]="button.label || 'Image'"
							class="btn-image"
						/>

						<!-- Notification button -->
						<div *ngIf="button.type === 'notification'" class="notification-container">
							<img
								*ngIf="button.icon"
								[src]="button.icon"
								alt="Notifications"
								class="btn-icon"
							/>
							<span
								*ngIf="button.notificationCount && button.notificationCount > 0"
								class="notification-badge"
							>
								{{
									button.notificationCount > 99 ? '99+' : button.notificationCount
								}}
							</span>
						</div>
					</button>
				}
			}
		</div>
	</div>
</nav>
