<div class="modal-container">
	<div class="modal-header">
		<span>Leave a rate</span>
		<button type="button" class="close-btn" (click)="close()">&times;</button>
	</div>

	<form [formGroup]="ratingForm" (ngSubmit)="submit()" class="modal-body">
		<div class="rating-section">
			<label>Driver</label>
			<div class="star-group">
				@for (s of stars; track s) {
					<button type="button" (click)="setRating('driver', s)">
						<span class="star" [class.filled]="ratingForm.value.driver! >= s">&#9733;</span>
					</button>
				}
			</div>
		</div>

		<div class="rating-section">
			<label>Vehicle</label>
			<div class="star-group">
				@for (s of stars; track s) {
					<button type="button" (click)="setRating('vehicle', s)">
						<span class="star" [class.filled]="ratingForm.value.vehicle! >= s">&#9733;</span>
					</button>
				}
			</div>
		</div>

		<div class="comment-section">
			<label>Additional comment</label>
			<textarea formControlName="comment" placeholder="Type text..."></textarea>
		</div>

		<button type="submit" class="confirm-btn" [disabled]="isLoading() || ratingForm.invalid">
			{{ isLoading() ? 'Sending...' : 'Confirm' }}
		</button>
	</form>
</div>
